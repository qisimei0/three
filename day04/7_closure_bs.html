<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // nAdd=function(){n++};
        // 鄙视面试找两种东西
        // 1.外层函数和内层函数之间的局部变量
        // 2.找外层函数共向外返回了哪些内层函数
        // 判断是不是考闭包
        // 1.外层函数包裹要保护的变量和使用变量的内层函数
        function fun(){
            var n=999;//要保护的变量
            // fun()内没有声明过nAdd局部变量
            // 全局也没有nAdd全局变量
            /* js中强行给一个未声明过的赋值，不会报错
             会自动在全局！创建变量*/
            nAdd=function(){
                n++;
            };
            // 2.外层函数将内层函数返回到外部
            return function(){
                console.log(n);
            }
        }
        // 3.调用外层函数，获得了内层函数的对象，并保存在变量中，反复使用。
        var getN=fun();
        // getN:function(){console.log(n);}
        getN();//输出999
        nAdd();//n变1000了
        getN();//输出1000
    </script>
</body>
</html>